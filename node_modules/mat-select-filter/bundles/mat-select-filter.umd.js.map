{"version":3,"file":"mat-select-filter.umd.js.map","sources":["ng://mat-select-filter/lib/mat-select-filter.service.ts","ng://mat-select-filter/lib/mat-select-filter.component.ts","ng://mat-select-filter/lib/mat-select-filter.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MatSelectFilterService {\n\n  constructor() { }\n}\n","import { Component, OnInit, Input, EventEmitter, Output, ViewChild, OnDestroy } from '@angular/core';\nimport { FormGroup, FormBuilder } from '@angular/forms';\nimport {\n  A,\n  Z,\n  ZERO,\n  NINE,\n  SPACE, END, HOME,\n} from '@angular/cdk/keycodes';\n@Component({\n  selector: 'mat-select-filter',\n  template: `\n  <form [formGroup]=\"searchForm\" class=\"mat-filter\" [ngStyle]=\"{'background-color': color ? color : 'white'}\">\n  <div>\n  <input #input class=\"mat-filter-input\" matInput placeholder=\"{{placeholder}}\" formControlName=\"value\" (keydown)=\"handleKeydown($event)\">\n    <mat-spinner *ngIf=\"localSpinner\" class=\"spinner\" diameter=\"16\"></mat-spinner>\n  </div>\n  <div *ngIf=\"noResults\"\n     class=\"noResultsMessage\">\n  {{noResultsMessage}}\n</div>\n</form>\n  `,\n  styleUrls: ['./mat-select-filter.component.scss']\n})\nexport class MatSelectFilterComponent implements OnInit, OnDestroy {\n  @ViewChild('input') input;\n\n  @Input('array') array: any;\n  @Input('placeholder') placeholder: string;\n  @Input('color') color: string;\n  @Input('displayMember') displayMember: string;\n  @Input('showSpinner') showSpinner = true;\n  @Input('noResultsMessage') noResultsMessage = 'No results';\n  noResults = false;\n\n  localSpinner = false;\n  @Output() filteredReturn = new EventEmitter<any>();\n\n  public filteredItems: any = [];\n  public searchForm: FormGroup;\n\n  constructor(fb: FormBuilder) {\n    this.searchForm = fb.group({\n      value: ''\n    });\n  }\n\n  ngOnInit() {\n    this.searchForm.valueChanges.subscribe(value => {\n      if (this.showSpinner) {\n        this.localSpinner = true;\n      }\n      if (value['value']) {\n        // IF THE DISPLAY MEMBER INPUT IS SET WE CHECK THE SPECIFIC PROPERTY\n        if (this.displayMember == null) {\n          this.filteredItems = this.array.filter(name => name.toLowerCase().includes(value['value'].toLowerCase()));\n          // OTHERWISE, WE CHECK THE ENTIRE STRING\n        } else {\n          this.filteredItems = this.array.filter(name => name[this.displayMember].toLowerCase().includes(value['value'].toLowerCase()));\n        }\n        // NO RESULTS VALIDATION\n\n        this.noResults = this.filteredItems == null || this.filteredItems.length === 0;\n\n\n      } else {\n        this.filteredItems = this.array.slice();\n        this.noResults = false;\n      }\n      this.filteredReturn.emit(this.filteredItems);\n      setTimeout(() => {\n        if (this.showSpinner) {\n          this.localSpinner = false;\n        }\n      }, 2000);\n    });\n\n    setTimeout(() => {\n      this.input.nativeElement.focus();\n    }, 500);\n    if (!this.placeholder) {\n      this.placeholder = 'Search...';\n    }\n  }\n\n  handleKeydown(event: KeyboardEvent) {\n    // PREVENT PROPAGATION FOR ALL ALPHANUMERIC CHARACTERS IN ORDER TO AVOID SELECTION ISSUES\n    if ((event.key && event.key.length === 1) ||\n      (event.keyCode >= A && event.keyCode <= Z) ||\n      (event.keyCode >= ZERO && event.keyCode <= NINE) ||\n      (event.keyCode === SPACE)) {\n      event.stopPropagation();\n    }\n  }\n  ngOnDestroy() {\n    this.filteredReturn.emit(this.array);\n  }\n}\n","import { MatProgressSpinnerModule } from '@angular/material';\nimport { MatSelectFilterComponent } from './mat-select-filter.component';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n@NgModule({\n  declarations: [MatSelectFilterComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatProgressSpinnerModule\n  ],\n  exports: [MatSelectFilterComponent]\n})\nexport class MatSelectFilterModule { }\n"],"names":["Injectable","EventEmitter","A","Z","ZERO","NINE","SPACE","Component","FormBuilder","ViewChild","Input","Output","NgModule","CommonModule","FormsModule","ReactiveFormsModule","MatProgressSpinnerModule"],"mappings":"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"}
